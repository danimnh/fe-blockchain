(this["webpackJsonpblockchain-hortikultura-ipb"]=this["webpackJsonpblockchain-hortikultura-ipb"]||[]).push([[4],{468:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(27),i=t(467),c=t(145),o=t(273),m=function(e,a){return function(t){return r.a.createElement(o.ErrorBoundary,{FallbackComponent:a},r.a.createElement(e,t))}},s=t(141),u=t(144),d=t(426),g=t(254),p=t(7),E=t(13),b=t(138),f=Object(b.a)((function(){return{wrapper:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},paper:{padding:40,"& h6":{paddingLeft:15}},buttons:{marginTop:30}}}));var h=function(){var e=f();return r.a.createElement("div",{className:e.wrapper},r.a.createElement(s.a,{className:e.paper},r.a.createElement(u.a,{variant:"h5",component:"h3"},E.e.app.crash.title),r.a.createElement("div",{className:e.buttons},r.a.createElement("div",null,r.a.createElement(d.a,{target:"_blank",rel:"noreferrer",href:"mailto: ".concat(E.c)},E.e.app.crash.options.email)),r.a.createElement(u.a,{component:"h6"},"or"),r.a.createElement("div",null,r.a.createElement(d.a,{onClick:p.c},E.e.app.crash.options.reset," ",r.a.createElement(g.b,null))))))},k=t(67),v=t.n(k),x=t(157),y=t(9),P=t(37),j=t.n(P),O=t(440),N=t(444),w=t(450),T=t(442),I=t(143),S=t(149),M=t(152),q=t(274),L=t.n(q),B=t(428),C=t(470),D=t(427),A=t(280);function W(e){var a=e.description,t=e.meta,n=e.title,l=e.image,i="".concat(E.i," ").concat(n?"| "+n:"");return r.a.createElement(A.a,{title:i,meta:[{name:"description",content:a},{property:"og:title",content:i},{property:"og:description",content:a},{property:"og:type",content:"website"},{property:"og:image",content:l},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:i},{name:"twitter:description",content:a}].concat(t)})}W.defaultProps={meta:[],image:"".concat(window.location.origin,"/images/cover.png")};var K=W,F=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},button:{width:"300px",marginTop:10},wrapper:{display:"flex","user-select":"none","align-items":function(e){return e.isSmallScreen?"center":"initial"},"text-align":"center"},icon:{width:"100%",height:"100%",color:e.palette.secondary.main},iconBox:{width:50,"margin-right":10},title:{"font-weight":100},content:{display:"flex",flexDirection:"column",justifyContent:"center"},contentHorizontal:{display:"flex",flexDirection:"row",justifyContent:"center"},logo:{paddingTop:"4px",paddingRight:"10px",alignSelf:"center",height:"42px"},logoBigger:{alignSelf:"center",height:"60px"}}}));var H=function(e){var a=Object(n.useState)(""),t=Object(y.a)(a,2),l=t[0],i=t[1],o=e.refreshLayout,m=Object(D.a)("(max-width: 600px)"),s=F({isSmallScreen:m});return Object(n.useEffect)((function(){o()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Blockchain Supply Chain Bawang Merah IPB",description:"Blockchain Supply Chain IPB"}),r.a.createElement(B.a,{maxWidth:"sm",className:s.root},r.a.createElement(L.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){e&&i(e)},style:{width:"300px"}}),r.a.createElement("p",null,"atau"),r.a.createElement(C.a,{variant:"outlined",placeholder:"Masukkan Serial Number Produk",value:l,onChange:function(e){i(e.target.value)},style:{width:300}}),r.a.createElement(d.a,{variant:"contained",color:"primary",disabled:""===l,component:M.b,to:"/product/"+l,className:s.button},"Telusuri"),e.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{style:{marginTop:20}},"Halo, ",e.user.nama,"!"),r.a.createElement(u.a,null,"Anda terdaftar sebagai ",r.a.createElement("strong",null,e.user.orgName)),"Penangkar"===e.user.orgName&&r.a.createElement(d.a,{variant:"contained",color:"primary",component:M.b,to:"/add_genesis",className:s.button},"Tambahkan Asset Benih")),!e.isLoggedIn&&r.a.createElement(d.a,{variant:"outlined",component:M.b,to:"/login",className:s.button},"Masuk"),!e.isLoggedIn&&r.a.createElement(d.a,{variant:"outlined",component:M.b,to:"/daftar",className:s.button},"Buat Akun")),r.a.createElement(c.a,{pt:2,pb:2},r.a.createElement(c.a,{className:s.content},r.a.createElement("img",{className:s.logoBigger,src:"/fe-blockchain/images/kementan-logo-horizontal.jpg",alt:"Logo Kementrian Pertanian"}),r.a.createElement(c.a,{className:s.contentHorizontal},r.a.createElement("img",{className:s.logo,src:"/fe-blockchain/images/ipb-logo.png",alt:"Logo IPB"}),r.a.createElement("img",{className:s.logo,src:"/fe-blockchain/images/arung-logo.png",alt:"Logo Arung"})))))},U=t(151),V=t(439),_=t(183);function z(e){var a=Object.assign({},e),t=Object(U.c)(e),n=Object(y.a)(t,2),l=n[0],i=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,Object.assign({type:"text",autoComplete:"off",variant:"outlined",error:i.touched&&i.error&&!0,helperText:function(){var e=Object(_.at)(i,"touched","error"),a=Object(y.a)(e,2),t=a[0],n=a[1];if(t&&n)return n}()},l,a)))}var J=t(429),R=t(430),Y=t(479),X=t(436),G=t(471);function Q(e){var a=Object.assign({},e),t=Object(U.c)(e),n=Object(y.a)(t,2),l=n[0],i=n[1],c=r.a.useState(""),o=Object(y.a)(c,1)[0];return r.a.createElement(J.a,{component:"fieldset"},r.a.createElement(R.a,{component:"legend"},e.title),r.a.createElement(Y.a,Object.assign({"aria-label":"memberType",name:"memberType",value:o},l,a,{helpertext:function(){var e=Object(_.at)(i,"touched","error"),a=Object(y.a)(e,2),t=a[0],n=a[1];if(t&&n)return n}()}),r.a.createElement(X.a,{value:e.values[0],control:r.a.createElement(G.a,null),label:e.values[0]}),r.a.createElement(X.a,{value:e.values[1],control:r.a.createElement(G.a,null),label:e.values[1]}),r.a.createElement(X.a,{value:e.values[2],control:r.a.createElement(G.a,null),label:e.values[2]}),r.a.createElement(X.a,{value:e.values[3],control:r.a.createElement(G.a,null),label:e.values[3]})))}var Z=t(438),$=t(437),ee=t(289),ae=t.n(ee),te=t(291),ne=t.n(te);function re(e){var a=Object.assign({},e),t=Object(U.c)(e),n=Object(y.a)(t,2),l=n[0],i=n[1],c=r.a.useState(!1),o=Object(y.a)(c,2),m=o[0],s=o[1];return r.a.createElement(C.a,Object.assign({type:m?"text":"password",variant:"outlined",error:i.touched&&i.error&&!0,helperText:function(){var e=Object(_.at)(i,"touched","error"),a=Object(y.a)(e,2),t=a[0],n=a[1];if(t&&n)return n}()},l,a,{InputProps:{endAdornment:r.a.createElement(Z.a,{position:"end"},r.a.createElement($.a,{"aria-label":"toggle password visibility",onClick:function(){return s(!m)},onMouseDown:function(){return s(!m)}},m?r.a.createElement(ae.a,null):r.a.createElement(ne.a,null)))}}))}var le=Object(b.a)((function(){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},button:{width:"300px",marginBottom:10},headline:{marginBottom:20}}}));var ie,ce,oe,me=function(e){var a=le(),t=e.refreshLayout;return Object(n.useEffect)((function(){t()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Login Page",description:"Login Page"}),r.a.createElement(B.a,{maxWidth:"sm",className:a.root},r.a.createElement("div",{className:a.headline},r.a.createElement(u.a,{variant:"h4",align:"center"},"Halaman Login"),r.a.createElement(u.a,{variant:"h4",align:"center"},"Sistem Rantai Pasok")),r.a.createElement(U.b,{initialValues:{username:"",password:"",orgName:""},validate:function(e){var a={};return e.username?e.password||(a.password="Password tidak boleh kosong"):a.username="Username tidak boleh kosong",a},onSubmit:function(a){setTimeout((function(){console.log(a),e.handleLogin(a)}),500)}},(function(e){var t=e.submitForm,n=e.values;return r.a.createElement(U.a,null,r.a.createElement(V.a,null,r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{className:a.button,name:"username",type:"username",label:"Username"})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(re,{className:a.button,name:"password",label:"Password"})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(Q,{name:"orgName",label:"orgName",title:"Login sebagai :",values:["Penangkar","Petani","Pengumpul","Pedagang"]}))),r.a.createElement(d.a,{className:a.button,disabled:n.password.length<6||n.username.length<6||n.orgName<6,variant:"contained",color:"primary",onClick:t},"Masuk"))})),r.a.createElement(d.a,{variant:"outlined",component:M.b,to:"/",className:a.button},"kembali ke halaman awal")))},se=t(480),ue=t(446),de=t(474),ge=Object(b.a)((function(){return{root:{display:"flex",flexDirection:"column","justify-content":"flex-start","align-items":"center",height:"100%"},button:{width:"130px",margin:10},center:{marginTop:20,display:"flex",flexDirection:"row",justifyContent:"center"},containerStep:{backgroundColor:"#fafafa"}}})),pe=t(38),Ee=t(399),be={nama:{name:"nama",label:"Nama",requiredErrorMsg:"Masukkan Nama Lengkap."},username:{name:"username",label:"Username",requiredErrorMsg:"Masukkan Username."},password:{name:"password",label:"Password",requiredErrorMsg:"Password harus lebih dari 6 karakter."},noHP:{name:"noHP",label:"Nomor Handphone",requiredErrorMsg:"Masukkan Nomor HP Lengkap.",invalidErrorMsg:"Masukkan Nomor HP yang valid."},ttl:{name:"ttl",label:"Tanggal Lahir (Hari/Bulan/Tahun)",requiredErrorMsg:"Masukkan Tanggal yang valid (DD/MM/YY)."},noKK:{name:"noKK",label:"Nomor Kartu Keluarga",requiredErrorMsg:"Masukkan Nomor Kartu Keluarga.",invalidErrorMsg:"Nomor Kartu Keluarga umumnya terdiri dari 10-16 digit."},noNPWP:{name:"noNPWP",label:"Nomor NPWP",requiredErrorMsg:"Masukkan Nomor NPWP.",invalidErrorMsg:"Nomor NPWP umumnya terdiri dari 15 digit."},nik:{name:"nik",label:"Nomor Induk Kependudukan",requiredErrorMsg:"Masukkan NIK.",invalidErrorMsg:"NIK umumnya terdiri dari 16 digit."},orgName:{name:"orgName",label:"orgName",requiredErrorMsg:"orgName is required"},luasLahanHa:{name:"luasLahanHa",label:"Luas Lahan (dalam Hektar)",requiredErrorMsg:"Masukkan Luas Lahan (dalam Hektar)"},alamatToko:{name:"alamatToko",label:"Alamat Toko",requiredErrorMsg:"Masukkan Alamat Toko"},alamatLahan:{name:"alamatLahan",label:"Alamat Lahan",requiredErrorMsg:"Masukkan Alamat Lahan"},kelompokTani:{name:"kelompokTani",label:"Kelompok Tani",requiredErrorMsg:"Masukkan Nama Kelompok Tani"}},fe=be,he=fe.nama,ke=fe.username,ve=fe.password,xe=fe.noHP,ye=fe.ttl,Pe=fe.noKK,je=fe.noNPWP,Oe=fe.nik,Ne=fe.orgName,we=fe.luasLahanHa,Te=fe.alamatToko,Ie=fe.alamatLahan,Se=fe.kelompokTani,Me=[Ee.b().shape((ie={},Object(pe.a)(ie,he.name,Ee.c().min(5,"".concat(he.requiredErrorMsg)).required("".concat(he.requiredErrorMsg))),Object(pe.a)(ie,ke.name,Ee.c().required("".concat(ke.requiredErrorMsg))),Object(pe.a)(ie,ve.name,Ee.c().required("".concat(ve.requiredErrorMsg)).min(6,"".concat(ve.requiredErrorMsg))),Object(pe.a)(ie,xe.name,Ee.c().matches(/^[0-9]+$/,"".concat(xe.invalidErrorMsg)).min(10,"".concat(xe.invalidErrorMsg)).max(13,"".concat(xe.invalidErrorMsg)).required("".concat(xe.requiredErrorMsg))),Object(pe.a)(ie,ye.name,Ee.a().typeError("".concat(ye.requiredErrorMsg)).required("".concat(ye.requiredErrorMsg))),ie)),Ee.b().shape((ce={},Object(pe.a)(ce,Pe.name,Ee.c().min(10,"".concat(Pe.invalidErrorMsg)).max(17,"".concat(Pe.invalidErrorMsg)).required("".concat(Pe.requiredErrorMsg))),Object(pe.a)(ce,je.name,Ee.c().min(15,"".concat(je.invalidErrorMsg)).required("".concat(je.requiredErrorMsg))),Object(pe.a)(ce,Oe.name,Ee.c().min(16,"".concat(Oe.invalidErrorMsg)).required("".concat(Oe.requiredErrorMsg))),ce)),Ee.b().shape(Object(pe.a)({},Ne.name,Ee.c().required("".concat(Ne.requiredErrorMsg)))),Ee.b().shape((oe={},Object(pe.a)(oe,we.name,Ee.c().required("".concat(we.requiredErrorMsg))),Object(pe.a)(oe,Ie.name,Ee.c().required("".concat(Ie.requiredErrorMsg))),Object(pe.a)(oe,Se.name,Ee.c().required("".concat(Se.requiredErrorMsg))),oe)),Ee.b().shape(Object(pe.a)({},Te.name,Ee.c().required("".concat(Te.requiredErrorMsg))))],qe=t(179),Le=t(469),Be=t(398);function Ce(e){var a=Object(U.c)(e),t=Object(y.a)(a,3),l=t[0],i=t[1],c=t[2],o=i.touched,m=i.error,s=c.setValue,u=o&&m&&!0,d=l.value,g=Object(n.useState)(null),p=Object(y.a)(g,2),E=p[0],b=p[1];return Object(n.useEffect)((function(){if(d){var e=new Date(d);b(e)}}),[d]),r.a.createElement(V.a,{container:!0},r.a.createElement(qe.a,{utils:Be.a},r.a.createElement(Le.a,Object.assign({},l,e,{inputVariant:"outlined",value:E,onChange:function(e){if(e){b(e);try{var a=e.toISOString();s(a)}catch(m){s(e)}}else s(e)},error:u,invalidDateMessage:u&&m,helperText:u&&m}))))}function De(e){var a=e.formField,t=a.nama,n=a.username,l=a.password,i=a.noHP,c=a.ttl;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{style:{marginBottom:20}},"Input Data Pribadi"),r.a.createElement(V.a,{container:!0,spacing:2},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:t.name,label:t.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{type:"number",name:i.name,label:i.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:n.name,label:n.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(re,{name:l.name,label:l.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12,md:12},r.a.createElement(Ce,{name:c.name,label:c.label,format:"dd/MM/yy",openTo:"year",views:["year","month","date"],disableFuture:!0,fullWidth:!0}))))}function Ae(e){var a=e.formField,t=a.noKK,n=a.noNPWP,l=a.nik;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{style:{marginBottom:20}},"Input Data Identitas"),r.a.createElement(V.a,{container:!0,spacing:2},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:t.name,label:t.label,type:"number",fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:n.name,label:n.label,type:"number",fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:l.name,label:l.label,type:"number",fullWidth:!0}))))}function We(e){var a=e.formField.orgName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{style:{marginBottom:20,marginLeft:-10}},"Informasi Pekerjaan"),r.a.createElement(V.a,{container:!0,spacing:1},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(Q,{name:a.name,label:a.label,title:"",values:["Penangkar","Petani","Pengumpul","Pedagang"]}))))}function Ke(e){var a=e.formField,t=a.luasLahanHa,n=a.alamatToko,l=a.alamatLahan,i=a.kelompokTani,c=Object(U.d)().values;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{style:{marginBottom:20}},"Input Informasi Pekerjaan"),r.a.createElement(V.a,{container:!0,spacing:1},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement("p",null,"Info ",c.orgName),"Petani"===c.orgName&&r.a.createElement(V.a,{container:!0,spacing:2},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:t.name,label:t.label,type:"number",fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:l.name,label:l.label,multiline:!0,rows:4,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:i.name,label:i.label,fullWidth:!0}))),"Penangkar"===c.orgName&&r.a.createElement(V.a,{container:!0,spacing:2},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:t.name,label:t.label,type:"number",fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:l.name,label:l.label,multiline:!0,rows:4,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:i.name,label:i.label,fullWidth:!0}))),"Pengumpul"===c.orgName&&r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{name:n.name,label:n.label,multiline:!0,rows:4,fullWidth:!0})),"Pedagang"===c.orgName&&r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{name:n.name,label:n.label,multiline:!0,rows:4,fullWidth:!0})))))}var Fe=["Data Pribadi","Data Kenegaraan","Pekerjaan","Informasi Pekerjaan"],He=be;var Ue=function(e){var a=ge(),t=e.refreshLayout,l=Object(n.useState)(0),i=Object(y.a)(l,2),c=i[0],o=i[1],m=Object(n.useState)(0),s=Object(y.a)(m,2),u=s[0],g=s[1],p=c===Fe.length-1,E=Me[u];function b(e){return new Promise((function(a){return setTimeout(a,e)}))}function f(){return(f=Object(x.a)(v.a.mark((function a(t,n){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b(1e3);case 2:e.handleSignUp(t),n.setSubmitting(!1);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function h(){o(c-1),g(3===u||4===u?2:u-1)}return Object(n.useEffect)((function(){t()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Signup Page",description:"Signup Page"}),r.a.createElement(B.a,{maxWidth:"sm",className:a.root},r.a.createElement(se.a,{className:a.containerStep,activeStep:c},Fe.map((function(e){return r.a.createElement(ue.a,{key:e},r.a.createElement(de.a,null))}))),r.a.createElement(r.a.Fragment,null,c===Fe.length?r.a.createElement("h1",null,"SignUp Success"):r.a.createElement(U.b,{initialValues:{nama:"",username:"",password:"",noHP:"",ttl:"",noKK:"",noNPWP:"",nik:"",orgName:"",luasLahanHa:"",alamatToko:"",alamatLahan:"",kelompokTani:""},validationSchema:E,onSubmit:function(e,a){if(p){var t=e;t.noHP=e.noHP.toString(),t.luasLahanHa=parseFloat(e.luasLahanHa),"Petani"===e.orgName||"Penangkar"===e.orgName?delete t.alamatToko:"Pengumpul"!==e.orgName&&"Pedagang"!==e.orgName||(delete t.luasLahanHa,delete t.alamatLahan,delete t.kelompokTani),function(e,a){f.apply(this,arguments)}(t,a)}else a.setSubmitting(!1),function(e){o(c+1),"Penangkar"===e.orgName||"Petani"===e.orgName?g(2===u?3:u+1):"Pengumpul"===e.orgName||"Pedagang"===e.orgName?g(2===u?4:u+1):g(u+1)}(e)}},(function(e){var t=e.isSubmitting;return r.a.createElement(U.a,null,function(e){switch(e){case 0:return r.a.createElement(De,{formField:He});case 1:return r.a.createElement(Ae,{formField:He});case 2:return r.a.createElement(We,{formField:He});case 3:return r.a.createElement(Ke,{formField:He});case 4:return r.a.createElement("h1",null,"success")}}(c),r.a.createElement("div",{className:a.center},0===c&&r.a.createElement(d.a,{className:a.button,variant:"outlined",component:M.b,to:"/"},"Back"),0!==c&&r.a.createElement(d.a,{className:a.button,variant:"outlined",onClick:h},"Back"),r.a.createElement("div",null,r.a.createElement(d.a,{className:a.button,disabled:t,variant:"contained",color:"primary",type:"submit"},p?"Konfirmasi":"Next"))))})))))},Ve=t(213),_e=t.n(Ve),ze=t(447),Je=t(448),Re=t(449),Ye=Object(b.a)((function(){return{root:{display:"flex","justify-content":"start","align-items":"start",flexDirection:"column"},rowDetail:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},cardContainer:{width:"100%",overflow:"visible",marginTop:"20px"}}}));var Xe=function(e){var a=Ye(),t=r.a.useState(!1),l=Object(y.a)(t,2),i=l[0],c=l[1],o=r.a.useState({}),m=Object(y.a)(o,2),s=m[0],g=(m[1],function(){var e=Object(x.a)(v.a.mark((function e(a){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,t={headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MTY4NzQ3NzYsInVzZXJuYW1lIjoiYW50b1BrciIsIm9yZ05hbWUiOiJQZW5hbmdrYXIiLCJpYXQiOjE2MTY4Mzg3NzZ9.k11yX6Y3OCNoVXBDBv_1BG7YAXmI_7k3h4MKFQaBIGk"},params:{peer:"peer0.penangkar.example.com",fcn:"GetHistoryForAssetByID",args:'["01ce8e9b7f6a4f0a6de4399f3608aa31e9a995b2f996602451e9ed0086709ad4"]'}},e.next=5,j.a.get("http://35.240.236.209:4000/channels/mychannel/chaincodes/bawangmerah_cc",t);case 5:return n=e.sent,e.next=8,console.log(n);case 8:return e.next=10,c(!1);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){var a=e.match.params.batchId;g(a)}),[e.match.params.batchId]),r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{open:!0},r.a.createElement(I.a,null))),r.a.createElement(K,{title:"Page 4",description:"Page 4"}),r.a.createElement(B.a,{maxWidth:"sm",className:a.root},r.a.createElement(d.a,{onClick:function(){return e.history.goBack()}},"<-"),r.a.createElement(V.a,{direction:"column",container:!0,spacing:1},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"h6"},"Detail Produk"),r.a.createElement(V.a,{container:!0,className:a.rowDetail,item:!0,xs:12},r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement(u.a,{variant:"body1"},"ID")),r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement("p",null,e.match.params.batchId))),r.a.createElement(V.a,{container:!0,className:a.rowDetail,item:!0,xs:12},r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement(u.a,{variant:"body1"},"Varietas")),r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement("p",null,s.varietas))),r.a.createElement(V.a,{container:!0,className:a.rowDetail,item:!0,xs:12},r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement(u.a,{variant:"body1"},"Tanggal Masuk")),r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement("p",null,_e()(s.timestamptoPetani).format("LL")))),r.a.createElement(V.a,{container:!0,className:a.rowDetail,item:!0,xs:12},r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement(u.a,{variant:"body1"},"Transaksi Terakhir")),r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement("p",null,_e()(s.timestamptoPetani).format("LLL")))))),r.a.createElement(u.a,{variant:"h6"},"Transaksi"),s.timestamptoPetani&&r.a.createElement(ze.a,{className:a.cardContainer},r.a.createElement(Je.a,null,r.a.createElement(Re.a,null,r.a.createElement(u.a,null,_e()(s.timestamptoPetani).format("LLL")," "),r.a.createElement(u.a,{gutterBottom:!0},"Aktor : ",s.usernamePenangkar),r.a.createElement(u.a,{variant:"body2"},s.batchID))))))},Ge=Object(b.a)((function(){return{root:{display:"flex","justify-content":"start","align-items":"start",flexDirection:"column"},rowDetail:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},cardContainer:{width:"100%",overflow:"visible",marginTop:"20px"}}}));var Qe=function(e){var a=Ge();return console.log(e.location.trxProps.trxType),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"ProductDetailPage",description:"ProductDetailPage"}),r.a.createElement(B.a,{maxWidth:"sm",className:a.root},r.a.createElement(V.a,{direction:"column",container:!0,spacing:1},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(d.a,{onClick:function(){return e.history.goBack()}},"<-"),r.a.createElement(u.a,{variant:"h6"},"Detail Transaksi"),r.a.createElement(V.a,{container:!0,className:a.rowDetail,xs:12},r.a.createElement(V.a,{xs:6},r.a.createElement(u.a,{variant:"body1"},"ID Produk")),r.a.createElement(V.a,{xs:6},r.a.createElement("p",null,e.match.params.batchId))),r.a.createElement(V.a,{container:!0,className:a.rowDetail,xs:12},r.a.createElement(V.a,{xs:6},r.a.createElement(u.a,{variant:"body1"},"Kategori Transaksi")),r.a.createElement(V.a,{xs:6},r.a.createElement("p",null,e.location.trxProps.trxType)))),r.a.createElement(V.a,{container:!0,className:a.rowDetail,xs:12},r.a.createElement(V.a,{xs:6},r.a.createElement(u.a,{variant:"body1"},"Tanggal dilaporkan")),r.a.createElement(V.a,{xs:6},r.a.createElement("p",null,e.location.trxProps.trxDate," ",e.location.trxProps.trxTime),r.a.createElement("p",null))),r.a.createElement(V.a,{container:!0,className:a.rowDetail,xs:12},r.a.createElement(V.a,{xs:6},r.a.createElement(u.a,{variant:"body1"},"Pelaku Transaksi")),r.a.createElement(V.a,{xs:6},r.a.createElement("p",null," ",e.location.trxProps.trxSender))),r.a.createElement(d.a,{className:{width:"300px",marginTop:10},variant:"contained",color:"primary"},"Konfirmasi Transaksi"))))},Ze=Object(b.a)((function(){return{root:{display:"flex","justify-content":"start","align-items":"start",flexDirection:"column"},button:{width:"300px",marginBottom:10},confirm:{marginTop:20}}}));function $e(e){var a=e.PkrAddTrxFields,t=a.usernamePenerima,n=a.alamatPengirim,l=a.alamatPenerima,i=a.kuantitas,c=a.harga,o=a.umurBenih,m=a.lamaPenyimpanan,s=a.varietas,d=a.hargaBenih;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(V.a,{container:!0,spacing:1},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:t.name,label:t.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:n.name,label:n.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:l.name,label:l.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:i.name,label:i.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:c.name,label:c.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:o.name,label:o.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:m.name,label:m.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:s.name,label:s.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:d.name,label:d.label,fullWidth:!0}))))}function ea(e){var a=Object.assign({},e),t=Object(U.c)(e),n=Object(y.a)(t,2),l=n[0],i=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,Object.assign({type:"number",variant:"outlined",autoComplete:"off",error:i.touched&&i.error&&!0,helperText:function(){var e=Object(_.at)(i,"touched","error"),a=Object(y.a)(e,2),t=a[0],n=a[1];if(t&&n)return n}(),InputProps:{endAdornment:r.a.createElement(Z.a,{position:"end"},"Kilogram")}},l,a)))}var aa=t(394);function ta(e){var a=Object(U.c)(e),t=Object(y.a)(a,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(aa.a,Object.assign({},e,{value:t.value,variant:"outlined",customInput:C.a,autoComplete:"off",thousandSeparator:!0,type:"tel",allowNegative:!1,InputProps:{startAdornment:r.a.createElement(Z.a,{position:"start"},"Rp.")}},t)))}function na(e){var a=e.PtnAddTrxFields,t=a.batchID,n=a.namaPenerima,l=a.alamatPengirim,i=a.alamatPenerima,c=a.kuantitas,o=a.harga,m=a.ukuranBenih,s=a.kadarAir,d=a.pupuk,g=a.pestisida,p=a.perlakuan;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(V.a,{container:!0,spacing:1},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:t.name,label:t.label,fullWidth:!0}),r.a.createElement(z,{name:n.name,label:n.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:l.name,label:l.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:i.name,label:i.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(ea,{name:c.name,label:c.label})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(ta,{name:o.name,label:o.label})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:m.name,label:m.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:s.name,label:s.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:d.name,label:d.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:g.name,label:g.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:p.name,label:p.label,fullWidth:!0}))))}var ra={usernamePenerima:{name:"usernamePenerima",label:"Username Penerima",requiredErrorMsg:"Username Penerima is required"},alamatPengirim:{name:"alamatPengirim",label:"Alamat Pengirim",requiredErrorMsg:"Alamat Pengirim is required"},alamatPenerima:{name:"alamatPenerima",label:"Alamat Penerima",requiredErrorMsg:"Alamat Penerima is required"},kuantitas:{name:"kuantitas",label:"Kuantitas",requiredErrorMsg:"Kuantitas is required"},harga:{name:"harga",label:"Harga",requiredErrorMsg:"Harga is required"},umurBenih:{name:"umurBenih",label:"Umur Benih",requiredErrorMsg:"Umur Benih is required"},lamaPenyimpanan:{name:"lamaPenyimpanan",label:"Lama Penyimpanan",requiredErrorMsg:"Lama Penyimpanan is required"},varietas:{name:"varietas",label:"Varietas",requiredErrorMsg:"Varietas is required"},hargaBenih:{name:"hargaBenih",label:"Harga Benih",requiredErrorMsg:"Harga Benih is required"}},la={batchID:{name:"batchID",label:"Batch ID",requiredErrorMsg:"Batch ID is required"},namaPenerima:{name:"namaPenerima",label:"Nama Penerima",requiredErrorMsg:"Nama Penerima is required"},alamatPengirim:{name:"alamatPengirim",label:"Alamat Pengirim",requiredErrorMsg:"Alamat Pengirim is required"},alamatPenerima:{name:"alamatPenerima",label:"Alamat Penerima",requiredErrorMsg:"Alamat Penerima is required"},kuantitas:{name:"kuantitas",label:"Kuantitas",requiredErrorMsg:"Kuantitas is required"},harga:{name:"harga",label:"Harga",requiredErrorMsg:"Harga is required"},ukuranBenih:{name:"umurBenih",label:"Umur Benih",requiredErrorMsg:"Umur Benih is required"},kadarAir:{name:"kadarAir",label:"Kadar Air",requiredErrorMsg:"Kadar Air is required"},pupuk:{name:"pupuk",label:"Pupuk",requiredErrorMsg:"Pupuk is required"},pestisida:{name:"pestisida",label:"Pestisida",requiredErrorMsg:"Pestisida is required"},perlakuan:{name:"perlakuan",label:"Perlakuan",requiredErrorMsg:"Perlakuan is required"}};var ia=function(e){var a=Ze(),t=e.refreshLayout;function l(e){return new Promise((function(a){return setTimeout(a,e)}))}function i(){return(i=Object(x.a)(v.a.mark((function a(t,n){var r,i;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l(1e3);case 2:if(r={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},"penangkar"!==e.user.memberType){a.next=20;break}return console.log("json"+t),a.prev=5,a.next=8,j.a.post("trx/pkr-ptn",t,r);case 8:i=a.sent,console.log("waiting for resp"),console.log(i),alert(i.data.message),alert(i.data.data.batchID),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(5),console.log(a.t0);case 18:a.next=21;break;case 20:"petani"===e.user.memberType?(console.log("petani submit add"),console.log(t)):"pengumpul"===e.user.memberType&&console.log("pengumpul");case 21:n.setSubmitting(!1);case 22:case"end":return a.stop()}}),a,null,[[5,15]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){t()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Add_Transaction",description:"Add_Transaction"}),r.a.createElement(B.a,{maxWidth:"sm",className:a.root}," ",r.a.createElement(u.a,{variant:"h6"},"Tambah Transaksi"),r.a.createElement(V.a,{container:!0,className:a.rowDetail,item:!0,xs:12},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement("p",null,"Anda terdaftar sebagai ",r.a.createElement("strong",null,e.user.orgName)),"Penangkar"===e.user.orgName&&r.a.createElement(d.a,{variant:"contained",component:M.b,color:"primary",to:"/add_genesis",className:a.button},"Tambahkan Asset Benih"))),r.a.createElement(U.b,{initialValues:{batchID:""},onSubmit:function(e,a){!function(e,a){i.apply(this,arguments)}(e,a)}},(function(t){var n=t.isSubmitting;return r.a.createElement(U.a,null,function(e){switch(e){case"Penangkar":return r.a.createElement($e,{PkrAddTrxFields:ra});case"Petani":return r.a.createElement(na,{PtnAddTrxFields:la});case"Pengumpul":return r.a.createElement("h1",null,"Pengumpul");case"Pedagang":return r.a.createElement("h1",null,"Pedagang");case"admin":return r.a.createElement("h1",null,"admin")}}(e.user.orgName),r.a.createElement("div",{className:a.center},r.a.createElement(d.a,{className:a.confirm,disabled:n,variant:"contained",color:"primary",type:"submit"},"Konfirmasi")))}))))},ca=Object(b.a)((function(){return{root:{display:"flex","justify-content":"start","align-items":"start",flexDirection:"column"},button:{width:"300px",marginBottom:10},confirm:{marginTop:20}}})),oa=Object(b.a)((function(e){return{spacer:e.mixins.toolbar,wrapper:{flexGrow:1,height:"100vh",overflow:"scroll",position:"relative"},content:{display:"flex","flex-direction":"column","justify-content":"space-between",marginTop:"20px"}}})),ma=t(443),sa=t(451),ua=t(452),da=t(453),ga=t(454),pa=t(455),Ea=t(456),ba=t(457),fa=function(){var e=Object(x.a)(v.a.mark((function e(a,t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:({headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),console.log("fetchapi "+t),n={fcn:t,peers:["peer0.penangkar.example.com","peer0.petani.example.com","peer0.pengumpul.example.com","peer0.pedagang.example.com"],chaincodeName:"bawangmerah_cc",channelName:"mychannel",args:a},console.log(n),console.log("send to"),console.log("/channel/"+n.channelName+"/chaincodes/"+n.chaincodeName);case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();var ha=function(e){var a=e.rows,t=e.isVisible,n=e.fcnName,l=e.modalContent,i=e.dialogTitle,c=e.handleClose,o=oa();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{open:t,onClose:c},r.a.createElement(w.a,null,"Konfirmasi ",i),r.a.createElement(ma.a,null,r.a.createElement(sa.a,null,"Informasi di bawah akan disimpan"),r.a.createElement(ua.a,{component:s.a},r.a.createElement(da.a,{className:o.table,"aria-label":"simple table"},r.a.createElement(ga.a,null,r.a.createElement(pa.a,null,r.a.createElement(Ea.a,null,"Atribut"),r.a.createElement(Ea.a,{align:"right"},"Informasi"))),r.a.createElement(ba.a,null,a.map((function(e){return r.a.createElement(pa.a,{key:e.name},r.a.createElement(Ea.a,{align:"left"},e.name),r.a.createElement(Ea.a,{align:"right"},e.value))})))))),r.a.createElement(N.a,null,r.a.createElement(d.a,{onClick:function(){c(),fa(l,n)},variant:"outlined"},"Konfirmasi"))))};function ka(e){var a=e.PkrAddTrxFields,t=a.kuantitas,n=a.harga,l=a.varietas,i=a.hargaBenih;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(V.a,{container:!0,spacing:2},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(z,{name:l.name,label:l.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(ea,{name:t.name,label:t.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(ta,{name:n.name,label:n.label,fullWidth:!0})),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(ta,{name:i.name,label:i.label,fullWidth:!0}))))}var va={usernamePenerima:{name:"usernamePenerima",label:"Username Penerima",requiredErrorMsg:"Username Penerima is required"},alamatPengirim:{name:"alamatPengirim",label:"Alamat Pengirim",requiredErrorMsg:"Alamat Pengirim is required"},alamatPenerima:{name:"alamatPenerima",label:"Alamat Penerima",requiredErrorMsg:"Alamat Penerima is required"},kuantitas:{name:"kuantitas",label:"Kuantitas",requiredErrorMsg:"Kuantitas is required"},harga:{name:"harga",label:"Harga",requiredErrorMsg:"Harga is required"},umurBenih:{name:"umurBenih",label:"Umur Benih",requiredErrorMsg:"Umur Benih is required"},lamaPenyimpanan:{name:"lamaPenyimpanan",label:"Lama Penyimpanan",requiredErrorMsg:"Lama Penyimpanan is required"},varietas:{name:"varietas",label:"Varietas",requiredErrorMsg:"Varietas is required"},hargaBenih:{name:"hargaBenih",label:"Harga Benih",requiredErrorMsg:"Harga Benih is required"}};var xa=function(e){var a=ca(),t=r.a.useState([]),l=Object(y.a)(t,2),i=l[0],c=l[1],o=r.a.useState(!1),m=Object(y.a)(o,2),s=m[0],g=m[1];function p(e,a){return{name:e,value:a}}var E=[p("Varietas",i.varietas),p("Kuantitas (Kilogram)",i.kuantitas),p("Harga (Rupiah)",i.harga),p("Harga Benih (Rupiah)",i.hargaBenih)],b=e.refreshLayout;function f(e){return new Promise((function(a){return setTimeout(a,e)}))}function h(){return(h=Object(x.a)(v.a.mark((function e(a,t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(1e3);case 2:c(a),g(!0),t.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){b()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"Add_Transaction",description:"Add_Transaction"}),r.a.createElement(B.a,{maxWidth:"sm",className:a.root},r.a.createElement(u.a,{variant:"h6"},"Tambah Asset Benih"),r.a.createElement(V.a,{container:!0,className:a.rowDetail,item:!0,xs:12},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement("p",null,"Anda terdaftar sebagai ",r.a.createElement("strong",null,e.user.memberType)))),r.a.createElement(U.b,{initialValues:{varietas:"",kuantitas:"",harga:"",hargaBenih:""},validate:function(e){var a={};return e.varietas?e.kuantitas?e.harga?e.hargaBenih||(a.hargaBenih="Harga Benih tidak boleh kosong"):a.harga="Harga tidak boleh kosong":a.kuantitas="Kuantitas tidak boleh kosong":a.varietas="Varietas tidak boleh kosong",a},onSubmit:function(e,a){!function(e,a){h.apply(this,arguments)}(e,a)}},(function(t){var n=t.isSubmitting,l=t.dirty,c=t.isValid;return r.a.createElement(U.a,null,(e.user.memberType,r.a.createElement(ka,{PkrAddTrxFields:va})),r.a.createElement("div",{className:a.center},r.a.createElement(d.a,{className:a.confirm,disabled:!(c&&l)||n,variant:"contained",color:"primary",type:"submit"},"Tambah Asset")),r.a.createElement(ha,{rows:E,isVisible:s,modalContent:i,handleClose:function(){g(!1)},dialogTitle:"Tambah Asset",fcnName:"CreateBawang"}))}))))},ya=Object(b.a)((function(){return{root:{display:"flex","justify-content":"start","align-items":"start",flexDirection:"column"}}}));var Pa=function(e){var a=ya(),t=e.refreshLayout,l=e.match.params.listType,i=r.a.useState(""),c=Object(y.a)(i,2),o=c[0],m=c[1],g=r.a.useState(""),p=Object(y.a)(g,2),E=p[0],b=p[1],f=r.a.useState([]),h=Object(y.a)(f,2),k=h[0],P=h[1],T=r.a.useState(!1),I=Object(y.a)(T,2),S=I[0],M=I[1],q=r.a.useState([]),L=Object(y.a)(q,2),C=L[0],D=L[1];function A(e,a){return{name:e,value:a}}var W=[A("Username Pengirim",C.usernamePengirim),A("Username Penerima",C.usernamePenerima),A("Alamat Pengirim",C.alamatPengirim),A("Alamat Penerima",C.alamatPenerima),A("Kuantitas",C.kuantitas),A("Harga",C.harga),A("Timestamp",_e()(C.timestamp).format("LL")),A("Umur Benih",C.umurBenih),A("Umur Panen",C.umurPanen),A("Lama Penyimpanan",C.lamaPenyimpanan),A("Varietas",C.varietas),A("Harga Benih",C.hargaBenih),A("Status",C.status),A("Transaksi ID",C.transaksiID),A("Batch ID",C.batchID)],F=[A("Username Pengirim",C.usernamePengirim),A("Username Penerima",C.usernamePenerima),A("Alamat Pengirim",C.alamatPengirim),A("Alamat Penerima",C.alamatPenerima),A("Kuantitas",C.kuantitas),A("Harga",C.harga),A("Timestamp",_e()(C.timestamp).format("LL")),A("Kadar Air",C.kadarAir),A("Pupuk",C.pupuk),A("Pestisida",C.pestisida),A("Perlakuan",C.perlakuan),A("Status",C.status),A("Transaksi ID",C.transaksiID),A("Batch ID",C.batchID)],H=function(){M(!1)},U=function(){var e=Object(x.a)(v.a.mark((function e(a,t,n){var r,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},e.prev=1,console.log(r),console.log("trx/"+o+"/"+t+"/"+n),e.next=6,j.a.get("trx/"+o+"/"+t+"/"+n,r);case 6:return l=e.sent,e.next=9,P(l.data.data);case 9:console.log(l.data.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a,t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(x.a)(v.a.mark((function e(a){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={trxID:a},n={headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},e.prev=2,console.log(JSON.stringify(t)),console.log("confirm to trx/"+E+"/confirm"),e.next=7,j.a.post("trx/"+E+"/confirm",JSON.stringify(t),n);case 7:return r=e.sent,e.next=10,console.log(r);case 10:return e.next=12,alert("transaksi "+a+"berhasil dikonfirmasi");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var a=function(){var e=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Inbox"===l?U(o,"unconfirmed","inbox"):"Sent"===l&&(P([]),U(o,"unconfirmed","sent"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();void 0===e.user.memberType?t():0===o.length?"penangkar"===e.user.memberType?m("pkr"):"petani"===e.user.memberType?(m("ptn"),b("pkr-ptn")):"pengumpul"===e.user.memberType?(m("ppl"),b("ptn-ppl")):"pedagang"===e.user.memberType&&(m("pdg"),b("ppl-pdg")):3===o.length&&a()}),[l,e.user.memberType,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"TransactionList",description:"TransactionList"}),r.a.createElement(B.a,{maxWidth:"sm",className:a.root},"Inbox"===e.match.params.listType?r.a.createElement(u.a,{variant:"h6"},"Kotak Masuk"):r.a.createElement(u.a,{variant:"h6"},"Terkirim"),r.a.createElement(u.a,{variant:"h6"},"Transaksi Tertunda"),0!==k.length?r.a.createElement("p",null,"Kamu memiliki ",k.length," transaksi yang tertunda"):r.a.createElement("p",null,"Tidak ada transaksi masuk"),k.map((function(e){return r.a.createElement(ze.a,{id:e._id,key:e._id,style:{marginBottom:"20px",width:"100%"}},r.a.createElement(Je.a,{onClick:function(){D(e),M(!0)}},r.a.createElement(Re.a,null,r.a.createElement(u.a,null,"Pengiriman dari ",e.usernamePengirim),r.a.createElement(u.a,null,_e()(e.timestamp).format("LL")),r.a.createElement(u.a,null,"batch id : ",e.batchID),r.a.createElement(u.a,null,"transaction id : ",e.transaksiID))))})),r.a.createElement(O.a,{open:S,onClose:H},r.a.createElement(w.a,null,"Konfirmasi Transaksi"),r.a.createElement(ma.a,null,r.a.createElement(ua.a,{component:s.a},r.a.createElement(da.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(ga.a,null,r.a.createElement(pa.a,null,r.a.createElement(Ea.a,null,"Atribut"),r.a.createElement(Ea.a,{align:"right"},"Informasi"))),r.a.createElement(ba.a,null,"ptn"===o?W.map((function(e){return r.a.createElement(pa.a,{key:e.name},r.a.createElement(Ea.a,{align:"left"},e.name),r.a.createElement(Ea.a,{align:"right"},e.value))})):"ppl"===o?F.map((function(e){return r.a.createElement(pa.a,{key:e.name},r.a.createElement(Ea.a,{align:"left"},e.name),r.a.createElement(Ea.a,{align:"right"},e.value))})):"pdg"===o?console.log("pedagang"):console.log("penangkar"))))),r.a.createElement(N.a,null,r.a.createElement(d.a,{onClick:function(){H()},variant:"outlined"},"Tutup"),r.a.createElement(d.a,{onClick:function(){V(C._id)},variant:"contained",color:"primary"},"Konfirmasi")))))},ja=Object(b.a)((function(){return{root:{display:"flex","justify-content":"start","align-items":"start",flexDirection:"column"}}}));var Oa=function(e){var a=ja(),t=e.match.params.listType,l=r.a.useState([]),i=Object(y.a)(l,1)[0],c=r.a.useState(!1),o=Object(y.a)(c,2),m=o[0],g=o[1],p=r.a.useState([]),E=Object(y.a)(p,2),b=E[0],f=E[1],h=e.refreshLayout;function k(e,a){return{name:e,value:a}}var P=[k("Username Pengirim",b.usernamePengirim),k("Username Penerima",b.usernamePenerima),k("Alamat Pengirim",b.alamatPengirim),k("Alamat Penerima",b.alamatPenerima),k("Kuantitas",b.kuantitas),k("Harga",b.harga),k("Timestamp",_e()(b.timestamp).format("LL")),k("Umur Benih",b.umurBenih),k("Umur Panen",b.umurPanen),k("Lama Penyimpanan",b.lamaPenyimpanan),k("Varietas",b.varietas),k("Harga Benih",b.hargaBenih),k("Status",b.status),k("Transaksi ID",b.transaksiID),k("Batch ID",b.batchID)];return Object(n.useEffect)((function(){h();var a=localStorage.getItem("memberType");(function(){var a=Object(x.a)(v.a.mark((function a(t,n,r){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log("trx/"+t+"/"+n+"/"+r),console.log(e.match);case 2:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}})()(a,"confirmed",e.match.params.listType)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{title:"TransactionList",description:"TransactionList"}),r.a.createElement(B.a,{maxWidth:"sm",className:a.root},r.a.createElement(u.a,{variant:"h6"},"Transaksi Terkonfirmasi"),r.a.createElement(u.a,{variant:"h6"},e.match.params.listType),r.a.createElement("p",null,e.user.memberType),"0"===i.length?r.a.createElement("p",null,"Kamu memiliki ",i.length," transaksi terkonfirmasi "):r.a.createElement("p",null,"Tidak ada transaksi terkonfirmasi ",i.length),i.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{key:e._id,style:{marginBottom:"20px",width:"100%"}},r.a.createElement(Je.a,{onClick:function(){f(e),g(!0)}},r.a.createElement(Re.a,null,r.a.createElement(u.a,null,"Pengiriman dari ",e.usernamePengirim),r.a.createElement(u.a,null,_e()(e.timestamp).format("LL")),r.a.createElement(u.a,null,"batch id : ",e.batchID),r.a.createElement(u.a,null,"transaction id : ",e.transaksiID)))))})),r.a.createElement(O.a,{open:m,onClose:function(){g(!1)}},r.a.createElement(w.a,null,"Konfirmasi Transaksi"),r.a.createElement(ma.a,null,r.a.createElement(ua.a,{component:s.a},r.a.createElement(da.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(ga.a,null,r.a.createElement(pa.a,null,r.a.createElement(Ea.a,null,"Atribut"),r.a.createElement(Ea.a,{align:"right"},"Informasi"))),r.a.createElement(ba.a,null,P.map((function(e){return r.a.createElement(pa.a,{key:e.name},r.a.createElement(Ea.a,{align:"left"},e.name),r.a.createElement(Ea.a,{align:"right"},e.value))})))))),r.a.createElement(N.a,null,r.a.createElement(d.a,{onClick:function(){console.log("console log onClick")},variant:"outlined"},"Konfirmasi")))))},Na=Object(b.a)((function(e){return{root:{height:"100%",overflow:"hidden",position:"relative","padding-left":e.spacing(p.a?1.5:3),"padding-right":e.spacing(p.a?1.5:3)}}})),wa=function(e){var a=Na();return r.a.createElement(c.a,{className:a.root},e.children)};var Ta=function(e){var a=e.user,t=e.handleLogin,n=e.isLoggedIn,l=e.handleSignUp,i=e.refreshLayout;return r.a.createElement(wa,null,r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/",render:function(){return r.a.createElement(H,{isLoggedIn:n,user:a,refreshLayout:i})}}),r.a.createElement(S.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(me,{handleLogin:t,refreshLayout:i})}}),r.a.createElement(S.a,{exact:!0,path:"/daftar",render:function(){return r.a.createElement(Ue,{handleSignUp:l,refreshLayout:i})}}),r.a.createElement(S.a,{exact:!0,path:"/product/:batchId",render:function(e){return r.a.createElement(Xe,e)}}),r.a.createElement(S.a,{exact:!0,path:"/product/:batchId/details/:trxID",render:function(e){return r.a.createElement(Qe,e)}}),r.a.createElement(S.a,{exact:!0,path:"/create_transaction",render:function(){return r.a.createElement(ia,{refreshLayout:i,user:a})}}),r.a.createElement(S.a,{exact:!0,path:"/add_genesis",render:function(){return r.a.createElement(xa,{refreshLayout:i,user:a})}}),r.a.createElement(S.a,{exact:!0,path:"/transactions/pending/:listType",render:function(e){return r.a.createElement(Pa,Object.assign({refreshLayout:i,user:a},e))}}),r.a.createElement(S.a,{exact:!0,path:"/transactions/confirmed/:listType",render:function(e){return r.a.createElement(Oa,Object.assign({refreshLayout:i,user:a},e))}})))},Ia=Object(n.memo)(Ta),Sa=t(458),Ma=Object(b.a)((function(){return{copyright:{"user-select":"none"},content:{display:"flex",flexDirection:"column",justifyContent:"center"}}}));var qa=function(){var e=Ma();return r.a.createElement(c.a,{pb:2,pt:2},r.a.createElement(u.a,{className:e.copyright,variant:"body2",color:"textSecondary",align:"center"},E.a.title,r.a.createElement(Sa.a,{color:"inherit"},E.a.link)," ",(new Date).getFullYear()))},La=Object(n.memo)(qa),Ba=t(445),Ca=t(460),Da=t(459),Aa=t(478),Wa=t(11),Ka=t(402),Fa=t(5),Ha=Object(b.a)((function(){return{root:{"text-decoration":"none",color:"inherit"}}}));var Ua=function(e){var a=e.className,t=Object(Ka.a)(e,["className"]),n=Ha(),l=t.href?function(e){var a=e.children,t=Object(Ka.a)(e,["children"]);return r.a.createElement("a",t,a)}:M.b;return r.a.createElement(l,Object.assign({},t,{className:Object(Fa.a)(n.root,a)}))},Va=t(33),_a=Object(b.a)((function(e){return{toolbar:{"justify-content":"space-between"},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"white",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},main:{"align-items":"center"},title:{"font-weight":100}}})),za=Object(Wa.a)({root:{"margin-left":7,"margin-right":7}})((function(e){return r.a.createElement(Da.a,Object.assign({flexItem:!0,orientation:"vertical"},e))}));var Ja=function(e){var a=e.onMenuOpen,t=e.handleListItemClick,n=_a(),l=Object(Va.a)(),i=Object(y.a)(l,2),o=i[0],m=i[1];return r.a.createElement(Ca.a,{position:"absolute",className:n.appBar,color:"transparent",elevation:1},r.a.createElement(Ba.a,{className:n.toolbar},r.a.createElement(c.a,{display:"flex",className:n.main},r.a.createElement($.a,{edge:"start","aria-label":"open menu",onClick:a},r.a.createElement(g.a,null)),r.a.createElement(Ua,{to:"/"},r.a.createElement(d.a,{onClick:function(){t(0)},"aria-label":"go to home",className:n.title},E.i))),r.a.createElement(c.a,{display:"flex"},o.isUpdated&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Aa.a,{title:"The application has newer version; press to update",arrow:!0},r.a.createElement($.a,{"aria-label":"update the application",color:"secondary",onClick:function(){m.update()}},r.a.createElement(g.b,null))),r.a.createElement(za,null)),r.a.createElement(za,null))))},Ra=t(473),Ya=t(464),Xa=t(462),Ga=t(435),Qa=t(461),Za=t(465),$a=t(396),et=t.n($a),at=t(397),tt=t.n(at),nt=Object(b.a)((function(e){return{list:{width:250},toolbar:e.mixins.toolbar,nested:{paddingLeft:e.spacing(4)}}})),rt=Object(Wa.a)({root:{width:"100%"}})((function(e){return r.a.createElement(Qa.a,e)}));var lt=function(e){var a=e.isOpen,t=e.onClose,n=e.onOpen,l=e.props,i=e.selectedIndex,c=e.handleListItemClick,o=nt({isOpen:a,isMobile:p.a}),m=r.a.useState(!1),s=Object(y.a)(m,2),u=s[0],d=s[1],g=r.a.useState(!1),E=Object(y.a)(g,2),b=E[0],f=E[1];return r.a.createElement(Ra.a,{anchor:"left",open:a,onClose:t,onOpen:n,swipeAreaWidth:30,disableBackdropTransition:!0},r.a.createElement(Ga.a,{className:o.list},r.a.createElement("div",{className:o.toolbar}),r.a.createElement(rt,{button:!0,selected:0===i,onClick:function(){return c(0)},component:M.b,to:"/"},r.a.createElement(Ya.a,{primary:"Halaman Utama"})),r.a.createElement(rt,{selected:1===i,onClick:function(){return c(1)},component:M.b,to:"/create_transaction"},r.a.createElement(Ya.a,{primary:"Tambah Transaksi"})),r.a.createElement(rt,{onClick:function(){d(!u)}},r.a.createElement(Ya.a,{primary:"Transaksi Tertunda"}),u?r.a.createElement(et.a,null):r.a.createElement(tt.a,null)),r.a.createElement(Za.a,{in:u,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ga.a,{component:"div",disablePadding:!0},r.a.createElement(Xa.a,{className:o.nested,button:!0,selected:2===i,onClick:function(){return c(2)},component:M.b,to:"/transactions/pending/Inbox"},r.a.createElement(Ya.a,{primary:"Kotak Masuk"})),r.a.createElement(Xa.a,{className:o.nested,button:!0,selected:3===i,onClick:function(){return c(3)},component:M.b,to:"/transactions/pending/Sent"},r.a.createElement(Ya.a,{primary:"Terkirim"})))),r.a.createElement(rt,{onClick:function(){f(!b)}},r.a.createElement(Ya.a,{primary:"Transaksi Terkonfirmasi"}),b?r.a.createElement(et.a,null):r.a.createElement(tt.a,null)),r.a.createElement(Za.a,{in:b,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ga.a,{component:"div",disablePadding:!0},r.a.createElement(Xa.a,{className:o.nested,button:!0,selected:4===i,onClick:function(){return c(4)},component:M.b,to:"/transactions/confirmed/Inbox"},r.a.createElement(Ya.a,{primary:"Kotak Masuk"})),r.a.createElement(Xa.a,{className:o.nested,button:!0,selected:5===i,onClick:function(){return c(5)},component:M.b,to:"/transactions/confirmed/Sent"},r.a.createElement(Ya.a,{primary:"Terkirim"})))),r.a.createElement(rt,{onClick:l.dialogLogout},r.a.createElement(Ya.a,{primary:"Logout"}))))},it=Object(b.a)((function(e){return{list:{width:330},toolbar:e.mixins.toolbar,notifCardNew:{backgroundColor:"#F0F0F0",height:100,opacity:"100%"},notifCardOld:{height:100,opacity:"30%"}}})),ct=Object(Wa.a)({root:{width:"100%"}})((function(e){return r.a.createElement(Qa.a,e)}));var ot=function(e){var a=e.isOpen,t=e.onClose,n=e.onOpen,l=e.notif,i=it({isOpen:a,isMobile:p.a});return r.a.createElement(Ra.a,{anchor:"right",open:a,onClose:t,onOpen:n,swipeAreaWidth:30,disableBackdropTransition:!0},r.a.createElement(Ga.a,{className:i.list},r.a.createElement("div",{className:i.toolbar}),r.a.createElement(ct,{disabled:!0,onClick:function(){return console.log(l)},component:M.b},r.a.createElement(Ya.a,{primary:"Notifikasi"})),r.a.createElement(ct,{dense:!0,gutters:!0,className:i.notifCardNew,onClick:t,component:M.b},r.a.createElement(Ya.a,{primary:"Pengiriman dari #123456"}),r.a.createElement(Ya.a,{secondary:"12/10/2020 13:56"}))))};var mt=function(e,a,t){var l=Object(n.useState)(!1),i=Object(y.a)(l,2),c=i[0],o=i[1],m=Object(n.useState)(!1),s=Object(y.a)(m,2),u=s[0],d=s[1],g=r.a.useState(0),p=Object(y.a)(g,2),E=p[0],b=p[1],f=function(e){k(),b(e)},h=function(){o(!0)},k=function(){o(!1)},v=function(){d(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,{isOpen:u,onOpen:v,onClose:function(){d(!1)}}),r.a.createElement(lt,{isOpen:c,selectedIndex:E,handleListItemClick:f,user:t,dialogLogout:a,onClose:k,onOpen:h,props:e}),r.a.createElement(Ja,{isMenuOpen:c,selectedIndex:E,onMenuOpen:h,onNotifOpen:v,handleListItemClick:f,props:e}))},st=Object(n.memo)(mt),ut=t(255),dt=t(18),gt=t(169),pt=t(31),Et=Object(l.atom)({key:"notificationsState",default:[]});var bt=function(){var e=Object(l.useRecoilState)(Et),a=Object(y.a)(e,2),t=a[0],n=a[1];return[t,{push:function(e){n((function(a){return[].concat(Object(gt.a)(a),[Object(dt.a)(Object(dt.a)({},e),{},{dismissed:!1,options:Object(dt.a)(Object(dt.a)(Object(dt.a)({},E.f.options),e.options),{},{key:pt.a()})})])}))},close:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!e;n((function(t){return t.map((function(t){return a||t.options.key===e?Object(dt.a)(Object(dt.a)({},t),{},{dismissed:!0}):Object(dt.a)({},t)}))}))},remove:function(e){n((function(a){return a.filter((function(a){return a.options.key!==e}))}))}}]};var ft=function(){var e=bt(),a=Object(y.a)(e,2),t=a[0],r=a[1],l=Object(ut.b)(),i=l.enqueueSnackbar,c=l.closeSnackbar,o=Object(n.useRef)([]);return Object(n.useEffect)((function(){t.forEach((function(e){var a,t=e.message,n=e.options;e.dismissed?c(n.key):o.current.includes(n.key)||(i(t,Object(dt.a)(Object(dt.a)({},n),{},{onExited:function(e,a){r.remove(a),function(e){o.current=Object(gt.a)(o.current.filter((function(a){return e!==a})))}(a)}})),a=n.key,o.current=[].concat(Object(gt.a)(o.current),[a]))}))})),null};var ht=function(){return r.a.createElement(ut.a,{maxSnack:E.f.maxSnack},r.a.createElement(ft,null))},kt=Object(b.a)((function(e){return{spacer:e.mixins.toolbar,wrapper:{flexGrow:1,height:"100vh",overflow:"scroll",position:"relative"},content:{display:"flex","flex-direction":"column","justify-content":"space-between",marginTop:"20px"}}})),vt=function(){var e=localStorage.getItem("isLoggedIn"),a=kt(),t=r.a.useState(!1),l=Object(y.a)(t,2),i=l[0],o=l[1],m=r.a.useState(!1),s=Object(y.a)(m,2),u=s[0],g=s[1],p=r.a.useState(e),E=Object(y.a)(p,2),b=E[0],f=E[1],h=r.a.useState([]),k=Object(y.a)(h,2),P=k[0],M=k[1],q=Object(S.f)(),L=function(){var e=Object(x.a)(v.a.mark((function e(a){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,j.a.post("login",a);case 4:return t=e.sent,e.next=7,console.log(t);case 7:return e.next=9,g(!1);case 9:return e.next=11,f(!0);case 11:return e.next=13,alert(t.data.message);case 13:if(void 0!==t.data.user.username){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,localStorage.setItem("token",t.data.token);case 17:return e.next=19,localStorage.setItem("username",t.data.user.username);case 19:return e.next=21,localStorage.setItem("isLoggedIn",!0);case 21:return e.next=23,q.replace("/");case 23:e.next=31;break;case 25:e.prev=25,e.t0=e.catch(1),alert(e.t0.response.data.message),q.push("/login"),g(!1),f(!1);case 31:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(a){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(v.a.mark((function e(a){var t,n,r,l,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,j.a.post("register",a);case 4:return t=e.sent,e.next=7,console.log(t);case 7:return e.next=9,g(!1);case 9:return e.next=11,localStorage.setItem("token",t.data.message.token);case 11:return e.next=13,alert(t.data.message.message);case 13:return n={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},r=[JSON.stringify(a)],l={fcn:"CreateUser",peers:["peer0.penangkar.example.com","peer0.petani.example.com","peer0.pengumpul.example.com","peer0.pedagang.example.com"],chaincodeName:"bawangmerah_cc",channelName:"mychannel",args:r},e.next=18,j.a.post("sc/channels/mychannel/chaincodes/bawangmerah_cc/",l,n);case 18:return i=e.sent,e.next=21,console.log(i);case 21:return e.next=23,q.replace("/login");case 23:return e.next=25,localStorage.removeItem("token");case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(1),console.log(e.t0),g(!1);case 31:case"end":return e.stop()}}),e,null,[[1,27]])})));return function(a){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("username"),localStorage.removeItem("orgName"),f(!1),M([]),localStorage.setItem("isLoggedIn",!1),q.replace("/"),o(!1)}catch(a){alert(a),q.replace("/"),o(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(v.a.mark((function e(){var a,t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),null!=localStorage.getItem("token")){e.next=5;break}return f(!1),g(!1),e.abrupt("return");case 5:return a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},e.prev=6,e.next=9,j.a.get("user",a);case 9:return t=e.sent,console.log("Berhasil login sebagai "+t.data.data.orgName),localStorage.setItem("orgName",t.data.data.orgName),e.next=14,g(!1);case 14:return e.next=16,f(!0);case 16:return e.next=18,localStorage.setItem("isLoggedIn",!0);case 18:return e.next=20,M(t.data.data);case 20:e.next=31;break;case 22:e.prev=22,e.t0=e.catch(6),console.log(e.t0),g(!1),M([]),f(!1),localStorage.setItem("isLoggedIn",!1),localStorage.removeItem("orgName"),localStorage.removeItem("token");case 31:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){}),[]),r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{open:!0},r.a.createElement(I.a,null))),r.a.createElement(ht,null),b&&r.a.createElement(st,{handleLogout:D,dialogLogout:C,user:P}),r.a.createElement(c.a,{component:"main",className:a.wrapper},r.a.createElement(c.a,{className:a.spacer}),r.a.createElement(c.a,{className:a.content},r.a.createElement(Ia,{user:P,isLoggedIn:b,refreshLayout:function(){A()},handleLogin:L,handleSignUp:B}),r.a.createElement(La,null))),r.a.createElement(O.a,{open:i,onClose:function(){return o(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(w.a,{id:"alert-dialog-title"},"Keluar dari Sistem Rantai Pasok?"),r.a.createElement(N.a,null,r.a.createElement(d.a,{variant:"outlined",onClick:function(){return o(!1)}},"Batal"),r.a.createElement(d.a,{variant:"outlined",onClick:function(){return D()},autoFocus:!0},"Keluar"))))},xt=t(466),yt=t(63),Pt=Object(l.atom)({key:"themeModeState",default:localStorage.getItem("theme-mode")||"light"});var jt=function(){var e=Object(l.useRecoilState)(Pt),a=Object(y.a)(e,2),t=a[0],n=a[1];return[t,{toggle:function(){var e=t===E.g[0]?E.g[1]:E.g[0];n(e),pt.c.lsSave(e)}}]};var Ot=function(e){var a=e.children,t=jt(),n=Object(y.a)(t,1)[0];return r.a.createElement(xt.a,{theme:Object(yt.a)(E.h[n])},a)};a.default=m((function(){return r.a.createElement(l.RecoilRoot,null,r.a.createElement(Ot,null,r.a.createElement(c.a,{display:"flex"},r.a.createElement(i.a,null),r.a.createElement(M.a,null,r.a.createElement(vt,null)))))}),h)}}]);